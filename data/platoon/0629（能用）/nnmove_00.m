function [Y,Xf,Af] = nnmove_00(X,~,~)
%NNMOVE_00 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2024 12:53:06.
% 
% [Y] = nnmove_00(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 4xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.644786415382709;-2.24855099234896;-0.581789816284725;-1.89546903030855];
x1_step1.gain = [1.42933908693485;0.45598879896227;1.88894161457496;0.499777584457468];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.9606395376335794545;2.6489932705142549274;-2.3373470033949312885;-2.0257007362756067614;-1.7140544691562829005;1.4024082020369585955;1.0907619349176345125;-0.77911566779831031848;-0.46746940067898617999;0.15582313355966206925;-0.15582313355966206925;0.46746940067898617999;-0.77911566779831031848;1.0907619349176345125;-1.4024082020369585955;-1.7140544691562829005;2.0257007362756067614;2.3373470033949312885;2.6489932705142549274;-2.9606395376335794545];
IW1_1 = [1.3726065745501472293 -2.2507971680887988164 -0.48362207450975919221 -1.257521157067031492;-1.7982951449364743546 -1.4707228063167536725 1.8253049202519662231 0.19172224331260037666;1.5239965280160980843 -0.045452575995966262856 1.3836328573663581043 2.1275138621747200496;2.383934210218269012 -1.7315357459422606734 -0.080991909606906664632 0.27833150064729850204;1.2460160436962481878 1.8205557059889305727 1.8139161317159242515 -0.7798177217418241769;-1.8858005778460680268 -1.6531174446543481782 -1.4945437217806794017 0.49263011505595860617;-0.71538807798820824857 -2.6770230218542594436 -0.64597879861650986388 -0.81845311525570885181;1.1167547771954549063 0.31312888587760800974 2.335582768332423953 1.4018732726277383094;1.2231057405673226857 1.4521626874003255026 2.2248805158627273926 -0.45883443489684094807;-2.0597887169444031308 -1.4049021915296500129 1.595505097725317567 -0.057185913610062533152;-1.4980718172511033881 -2.0823431641434888562 0.76761866866781369723 1.2632402101004733819;0.92925863907966110844 -0.86488365988560500508 -0.84161764638273828254 2.5388030340408551666;-0.12079814744441938479 -1.5556325601637028822 2.3401348856758779071 -0.92442973447117149366;0.70449564713490797629 0.057812911220567135551 -2.1367015850781183595 1.9235998436753940499;-1.3286137397747739275 2.0485328878493360705 1.16240936877911194 1.2051927103393333951;-1.6190401152382303263 0.6464799792511430887 0.73450073326392528728 2.2774257147733161233;1.2625577499529412329 -1.5261537121668748984 1.275995938850296163 -1.7927698153164450812;2.3406180563077456647 -0.95708729270650794163 -0.89195626237531822067 -1.2551061813386579225;1.8644372842155572112 -1.911233402737023912 1.072039432982842655 0.69798167556045187521;-2.0721527054795765288 0.0067796910095338147259 1.7715083728221299175 -1.1546782052952038189];

% Layer 2
b2 = [1.5708258360227485007;-1.2217534280176931549;-0.87268102001263814227;-0.52360861200758279654;-0.1745362040025275896;-0.1745362040025275896;-0.52360861200758279654;-0.87268102001263814227;-1.2217534280176931549;1.5708258360227485007];
LW2_1 = [-0.40426027407724762774 0.5340552967326699374 -0.015602119042741760882 0.26256137827075848312 -0.56673773181333830795 -0.15140820195624046796 -0.68043473379318875072 0.06546810802988911604 0.22012458688751965208 0.08972440979988807741 0.073707024613630114929 0.52341442504629576149 0.25029506379726590426 -0.06785953990021396931 -0.44131123195038174378 0.3248719131381878622 -0.26083020439758325404 0.47182980974589688872 0.23619933469911214008 -0.29728840318722438152;0.23944923461505115969 -0.24780075873516557716 0.42762585980149703246 -0.15762038702327743622 -0.26262268496136381701 -0.51330989058153642102 -0.34537183844977015212 0.54980389082021274838 -0.21804333415206686442 -0.22589902410877579775 0.25902252461616320778 -0.14456395653287307246 0.49190541322134212487 -0.28729206118574496243 0.45325998428707209298 -0.24567233438890184738 -0.049420582463916819249 -0.19863836952631749866 0.51140074848815741948 -0.55382188845672775113;0.17966587714166146195 0.3332341490314023047 -0.21180691301604548382 0.17347212879430862209 -0.34924750339007104571 -0.22733755858758802892 0.31753516719733049234 0.31106270966267945965 -0.52105109774526447985 0.6337407325211951159 0.11070501715313470215 0.13439589315872327302 0.4484691507409811484 0.41021054753239882817 0.37871523277199375945 0.57141967015360006776 0.30834768838765735932 -0.36600369928221049287 0.32068319360251507089 0.057553309836185020942;0.10526181950869245574 -0.42081783359896246521 -0.058732395325047231927 0.36146998384851081187 -0.19555773853329441736 0.27412643744117026756 0.25761505439494480907 0.39378751833702912988 -0.028377393889834505447 0.55867502835006055406 -0.55082051980739332731 0.43280149912628629316 -0.017950570599975727848 0.44474982953079728043 0.44434171965701257934 0.37939299736139159291 0.44657075445057964336 -0.18272308433841680242 -0.11607928680123756615 -0.47006334631941465441;0.18836707443016798003 0.39533962409245665404 0.54422183258262046834 -0.56443038150480628889 -0.40830523528133749744 0.34598055023700058364 0.44356649109219165039 -0.078357468378455794045 -0.16148386496444330773 -0.25052482283850951994 -0.062776931325023502262 0.5089657493922092879 0.30144421968092727226 0.48573078339145442373 -0.25248573774976917905 -0.1291177177211806637 0.25930231814356968778 -0.14594742412432071266 0.38964364055185357616 -0.41501998483805735418;-0.60084903760479257961 -0.47993823426730830572 -0.60783018696500423772 -0.55261749257276049363 -0.2018463800066097602 0.059635195988840532244 0.1094712762756318708 -0.039010484379738225025 0.38261567948043223586 0.39949043379624848971 0.19428953080105912377 0.22372116829553748141 -0.11016128275332839892 0.07740259028938163699 0.23004473924906773674 -0.0027848993610844799927 -0.63928398379432282983 0.06182360632003638945 -0.48560001044407202775 0.17415599928407934915;-0.17600002344073961691 0.10266728986205617136 0.55047827586014763668 0.55262373926102348332 -0.4403533815243378946 0.21674630390946622582 -0.49968238171660522839 0.070664604936336278262 0.32623753309988190452 0.46103573622706295332 0.02467820944833268651 -0.34128416443020642701 0.54911378286124001846 0.11507301766060394621 0.19120610001900975594 0.22673461666725075458 0.20342309531456145844 0.072069138655232636848 -0.51157464854792733533 0.41821460007481586763;-0.057289787817172595219 -0.15758199663635177878 -0.36591628389159891466 0.17819330073590958219 0.45228749805678492013 0.46344847087791629647 0.49772370702439000523 -0.27186301384219968558 0.19840000291345369354 0.11482415806182146023 -0.15033431603503502605 0.18113795518423048136 0.57452323307686969933 -0.41339946790561044043 -0.44408357364914802234 0.39367360452923799707 -0.07239741940766117323 -0.12265502673543157708 -0.48949203117075118508 0.55833088085722692995;-0.29701422122348297705 0.35165459097111967379 0.1915787846747794565 -0.30809621891192218168 -0.46510000837221426861 -0.51036557374513258356 0.34433231862943408652 0.28546295920351999476 -0.42013379067202705208 0.44021857013841897421 0.50111044616871647239 -0.49057980210031354451 0.41744145407465665931 0.4582125784067835883 -0.10624576349049191792 0.125674275999466456 -0.071279997126411198671 -0.11677792758028501807 -0.38529102500476347659 0.081205813058851050723;0.28849471372484974951 0.0050721320779703047213 0.11596349763728340532 -0.12947193989491578847 0.57692315398201809984 -0.26339905856667716888 -0.28716406594306936872 0.0052156619412791456816 -0.64185909377244310114 0.59529026963138731432 0.44208640980566438206 -0.12513097382298626892 -0.14906852647719659455 -0.066549740118699254876 -0.30146491498099231565 0.1002640121497801462 -0.51376617123275358789 0.020615969834574178476 -0.23581864557563886331 0.6665518917219109829];

% Layer 3
b3 = [-1.8889959867429886309;-1.690154303927936974;1.4913126211128857612;1.2924709382978341043;1.0936292554827828916;0.89478757266773145673;-0.6959458898526800219;0.49710420703762858707;0.29826252422257715224;-0.099420841407525717415;-0.099420841407525717415;0.29826252422257715224;0.49710420703762858707;0.6959458898526800219;0.89478757266773145673;-1.0936292554827828916;-1.2924709382978341043;1.4913126211128857612;1.690154303927936974;1.8889959867429886309];
LW3_2 = [0.18417427355592660976 0.38804657236428519163 -0.15750196718542172625 0.00072692103380200552131 0.20422507836522871272 0.53631809281033315795 -0.82511297974887887197 -1.2429885565685463433 0.49921933743127644423 0.74471553441658211447;0.034211398918076715847 0.70691940851644052835 -0.25143266520060680858 -0.62411326021809376829 -1.0964242087810414095 -0.10634986013799618831 -0.91442731872070581733 0.21884561545746500366 0.11576790670747223733 -0.70974315781441865703;-0.42390943206314357639 0.07983867632081084742 0.68988682493652786487 0.17929926714728486314 0.66767300958562580959 0.85047659914343154419 -0.17676293366762568793 1.0041005403044023225 -0.70575139579873957807 -0.40926104485016934209;-0.14447572047611176305 -0.61491458474671312207 0.4835336623493813879 -0.77979852869364219004 0.71973301560471958371 0.067334644551650085775 -0.50096636395615312676 0.90687627370075096778 0.5621616561843579829 -0.64455794169563906948;-0.023403242215006458266 -0.13169096750009290364 -0.1991426632666446761 0.48889050453092441906 1.1905383296428557749 0.15391397194640615842 -0.57822882851251455882 -0.79636193206428018687 -0.7768142569446612189 -0.50861731158571776845;-1.1046454311370090817 -0.18564045997710046376 0.49894265392542819226 0.25644809053568151658 1.2540181439350357451 0.46369641209610878985 -0.19350113747832581312 -0.044623871384619803737 -0.33254319391020414898 -0.24758374370172070433;0.69957920200772927277 0.8408765417733717884 0.80327726368474539065 -0.80113084527774636179 0.009261408483820777332 -0.23962286076479558106 -0.6870460116302442577 -0.22370717509194071315 0.70533405366087431609 0.087625836999032952201;-0.85141090013001685666 0.23478196664658559922 0.55585072098443666366 -0.86762410274767298723 -0.44701225566458285821 -0.50984829121035779576 -0.0096472184374513571953 0.046504696416763843803 0.69693751644014056978 -0.8824954636270055941;-0.17379773353615293741 0.53213675847627250892 0.55986677485707259105 -0.94640068633455887159 -1.0873400925893206281 0.21494499094013452822 0.56214187019200190232 -0.64036013454004880874 -0.26571834441158215245 0.1436138662297097579;0.61421113811282945782 0.41400900463507395166 -0.73462824546172600382 -0.90332956860386737219 0.014759350331106599677 0.68991352845594766663 -0.48219798706623651086 -0.81168356654971918207 -0.34220633069603573206 -0.42345636423524540826;-0.41465047651248021499 -0.60195128457082947016 -0.43275180212160668791 -0.25486569372069839412 0.33658330710862222057 -0.36651917758635621514 1.1207897539942797138 -0.25033829815818187114 0.42711419153638008339 -1.0163192058745929014;0.22941824496394516708 0.034350443019102998299 0.18378696144122777523 0.67166994715785099945 0.53149291950056110068 -0.78319671398712720212 -0.86108591011544011184 -0.65938877964543562982 0.82931365590903094454 -0.51929714546109662088;0.6646783883512359381 0.11826390189643487538 -0.084732431481748818336 0.24487361903130541729 -0.86993181898088534076 -0.11713649459761785177 -0.2213571115223687269 -0.98853137381018796326 0.85337087888259732793 -0.72141667603431680611;0.66440513131326928153 -0.59090014102597987478 -0.77350936590868157872 0.034626808730900744682 0.27797928470037602811 -0.34372466431871012693 -0.854266080425080232 0.78214182516657826394 0.15756155999052989802 0.78513169857669595775;0.96893472397491631209 0.13947259490039029539 -0.60978179229491469293 0.81780340327719958093 0.038160782216940573874 -0.22163564025510970601 -0.62778603349712214232 -0.15598614740426483549 -0.37630016653551134898 0.97916040236057499957;-0.50948085053618741291 0.32096901005468525536 0.55062895800911582089 -0.66285585598490437409 -0.54200004863162287716 0.5492688210735658938 -0.82168562713480275406 0.76049023078278688015 0.5817277730394491142 0.52513208513595632798;-0.4841304658279322326 -0.14748342226250504838 -0.97130870422380943818 0.81829320491925860992 0.87946816006380246211 -0.19325961184737136533 -0.6233079032276707121 0.52623656349616088068 -0.11551319254088839028 0.45774809584901515747;0.68136302788772373784 0.57587834475612109664 0.62287135013817807039 -0.67128918713264529305 0.15495654412998854932 -0.18807868630413535072 -0.61226226891897739257 -0.84368775884415114774 0.69247709334911822232 -0.55518711676916054909;0.23015008875534551103 0.57040159218947372732 -1.0401190003242541948 0.041899394125045008597 -0.14634384357142626865 -0.34401306317072155583 -0.57172521161748091068 0.44382051632143570963 -1.1507782804307369329 -0.34420513787536793915;0.0083971472610724021829 -0.30607158869527301137 0.36964720516909693737 -0.78031447018523647507 0.96634876111441303514 -0.78665737999195706198 -0.71091693146056333941 0.45035467495995185061 0.070907329471559588097 -0.68052623175099424824];

% Layer 4
b4 = -0.13697763419621833414;
LW4_3 = [-0.99760320631991317164 -0.36716097253491386532 0.3992339727941109917 0.25051036035808094127 0.086124350687703188356 -0.12192559322466167693 -0.42514546503491468243 0.0033182134933804618981 0.52309237133929364916 0.52481609757742808675 0.15211180299311410913 0.49532567528343274255 0.29106901196264312048 -0.75356096335098765593 0.0087957201855333178031 -0.30547737455673273921 -0.81570463038979124093 -0.70430106393496250128 -0.60366059786719650226 0.34454047491485728649];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 1.25;
y1_step1.xoffset = -0.800000000000002;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end

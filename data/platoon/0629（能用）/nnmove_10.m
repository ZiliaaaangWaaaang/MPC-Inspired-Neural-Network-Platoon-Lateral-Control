function [Y,Xf,Af] = nnmove_10(X,~,~)
%NNMOVE_10 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2024 12:53:31.
% 
% [Y] = nnmove_10(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 4xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.581224840168548;-2.08798180279202;-0.533403245818273;-1.89546903030855];
x1_step1.gain = [1.49735732495204;0.473316379586819;2.00103198696217;0.499777584457468];
x1_step1.ymin = -1;

% Layer 1
b1 = [-3.003757459190068424;-2.7318775981709131351;2.3109698894158445803;-1.9573564499737809985;1.9511013038147022591;-1.751017322732931758;1.4647470659655141834;0.68543103638407754108;-0.035060156269379125216;0.11610433748428090894;-0.28432309907796982085;-0.28668632214685707549;0.82279456654530513937;1.3883168205581684074;1.6257802339434357375;1.7457925455062892617;-2.2200756969822550424;-2.3047512575403135138;2.1976028515475283243;3.1103616022408950847];
IW1_1 = [0.87500105572665420883 1.9336599810194894378 -0.49018221870279021779 1.9283697979820637602;1.5768339517505760572 -1.2360185350176913222 2.3898759616784324145 0.068290502180629805706;-1.8895678280769563351 2.3551599363458946002 -0.42351610137458955974 0.38142478388993156235;1.6152833522276539568 0.40932340951598267242 -1.4269147968026343332 -2.2728830967424147325;-0.34115261422265236169 0.82071186662793416122 -2.6182757389730766384 0.9867446866363669411;0.86857520889947414933 0.81653912008072937478 0.28412016463975431346 2.7959155050874064941;-1.4451631158845503755 1.2671598237871117831 1.4921883675198668318 -1.1535031666759689717;-0.36258476784320892161 1.7513416237240846396 2.0509600419145064265 -1.2027776654334489947;-0.85249901164822805555 -0.56677385376673883322 2.7196333604251696769 -0.82239168634109416356;-0.98504848686623192044 -1.6855244697420523892 1.3304769447407120975 -1.6951260935472085567;-1.7315661075747348363 -2.1141098822505091093 0.98759040576243317666 -1.1926017004690476764;-0.57486814433045008155 -2.755997965582829945 -0.85586865251602217697 -0.71159389968508635071;2.1142488308290876553 -1.6980478267083285449 0.13732454067539129339 0.54322987829158464468;0.013914687161445997432 -2.6704558959438338128 0.1752534610174932006 1.1113244278677356647;1.4320947004632156307 2.6406760792837022933 -0.25464253092724253857 -0.68525172200234407693;0.74387000819528048545 -1.9325299691856290263 1.7784829069860104145 -1.0971039253563956706;-1.5004877328072152576 1.67224626039733959 -1.0359980029694171311 1.5505414265787960115;-0.93852174572858804158 -2.0928577113648567654 2.1095810595849804336 -0.37499442849243469489;1.8290844394385479266 -0.55217351428456484808 -1.9439833016793512943 -1.3492525208947219184;2.2199073715682744457 -1.2855840845856769672 -0.58230548647714108768 1.0530478859380492107];

% Layer 2
b2 = [-1.5132571155071516955;0.68195965941755909423;-1.0232001784028266211;0.54952221504698706145;0.077664214123995517491;0.20241283924955497109;0.57036829995259075154;1.0025737152187483847;1.3117323309099522266;1.6213840670188137683];
LW2_1 = [0.38995728275113655803 -0.50243237119281902725 0.28689648512141857628 0.48501120002705128131 -0.48288182359680359435 0.12046209871566181115 0.50867331330132081746 -0.3561502798778991008 0.34010784136850297221 -0.34864112433324861984 0.57464527366817375054 0.33424739697616229206 0.080108643345234126221 -0.29596365112953620935 0.30764882684516986489 -0.17554331843336173913 -0.23661592625052538241 0.286377066525677626 0.11900660160758895489 -0.37088003876505160061;0.51115322935361739987 0.2460181279412846922 0.82503086567802363938 0.022691876022949156178 0.17878033063915607648 -0.79948061277034310201 -0.20088393250580757754 0.32653228106028509004 -0.30105734401965278391 -0.8974792532947279966 0.44299287993333558155 1.2433759064823761697 0.28631120853527447512 0.19077885147930956355 0.37806920275117666952 -0.15511464192839971576 0.081581587423614793098 -0.58102012017939097532 0.094829669139352534835 -0.91141945200214191658;0.10893194001908484969 -0.61846277927628934279 -0.22030166390784777786 -0.31839114062664691795 0.091899049283665087962 0.57637391392683545721 0.4274269935640818141 0.10328744949253729213 -0.94392887279992609972 -0.31197395754726070516 -0.35676336874351194384 -0.22744660981251649257 0.053489429101070580519 -0.21120354146325445721 0.10574274073654064965 0.25517346183206207622 0.40707745144385543146 -0.14532663846875079616 0.28930084624910945568 -0.32718271552847366657;-0.52972506357604365324 0.44538557280805546323 0.36768279494942796015 -0.4174828860144179643 -0.0013691256670420731689 0.37876212157404320902 0.31346385107028684747 0.63273283503634769609 0.4854756476335012616 -0.28292832567289616374 -0.93202953990632286807 -0.70975413065784243027 -0.086485512583841600565 -0.01022783858340346741 0.34216435977164005866 -0.39971858996875797576 0.2223824415974343105 0.044215697082617855251 -0.17697400413874617153 0.18037030036536241817;-0.32012616045076180971 0.023665419083320742705 0.12258646135668943566 0.79108149010745965057 -0.29776165922243508222 0.18160190669107181827 0.55025413588214955318 0.27366016289838279718 -0.25013986815419442244 -0.22641726963478214785 0.23614577774069997473 0.76323283562236055033 -0.55800943990266127503 -0.78032181880374873462 -0.073775175307758872334 -0.18300502080880326483 0.46473569429932565233 -0.068275881662764423274 -0.26852185550245322165 0.016880776017881779505;0.27925957552953950547 -0.59603863381186272807 -0.37605934208775132488 -0.13369232288399393593 0.3388160695629643393 -0.39935096191436952884 -0.14318019431902381799 -0.42779387208570951451 0.34871862935970687758 0.49136662991755236662 0.032330218898121508564 -0.47638271902512313583 0.23291922458823274833 0.14037448059756840735 0.52079832819715365932 0.34417094988584318038 -0.31215747921933195697 -0.5000328631915043065 -0.066732812903976174157 0.052097201096409320731;0.054638086818736095185 0.48517094853978909308 0.42632141558384017976 -0.30415323096228541466 -0.35951190569187913004 0.11614747518977310003 0.037447239990684000333 0.49349099013235186995 0.4853949179346980225 0.021339264196025449494 0.22404695323330356405 0.058284822792703909478 0.51811615840832714319 0.32308302635552899051 -0.22129848115795483499 0.61971130085719206004 -0.20997774336215077606 -0.043746822876371070643 0.14546302649962811193 0.63443099545775472059;0.25480908415877706608 0.28760105691051501831 0.038731512830910960754 -0.19962040832394697953 0.16527013770264054049 0.26070060750247736614 0.16855237275832771204 -0.52800374349614120906 0.1142899251189008758 0.37649423333797182867 0.16138152643353581572 0.45809875970267516232 0.039513490495840714045 -0.58491368707013857708 0.13690582848650906245 0.6599524408466544978 0.15969271951407476573 -0.47407024564086941432 -0.46359672757560088652 0.37620071089601547776;0.42983025443245403974 0.59870230520140432784 -0.048553355881818943685 -0.20340231716012649454 -0.5228506191247930257 0.3086171471038910985 0.061389028620169927564 -0.16794848423047428754 -0.49766498330782293902 0.3943542557088141054 -0.50244543384020601273 0.26474491830006124937 -0.43286624770706383369 -0.32634544042327928715 0.019165411754762086416 -0.075440548468675969196 -0.7153706512394439887 -0.11295240738973985617 -0.47500297242681188692 0.41397167943550894353;-0.051564931604974592605 -0.10054376490234154251 -0.3486608158715318595 -0.37365084332534265199 -0.37205824762092137847 0.11350172809432251819 0.41852911567236861234 -0.52497177410876338932 0.45296893164279677935 0.36458176378056306177 -0.37034929643758557338 0.66490240685846480062 0.40489627359772828452 -0.39237238360783016633 -0.28255616620353385393 -0.059977526896338423379 -0.44511978466070117877 -0.53584395913062154992 -0.49518828765316319496 -0.01798365166644295271];

% Layer 3
b3 = [1.8887985095151040849;-1.7230186824730013839;-1.4567661069910227134;-1.2956313037892051021;0.96773925751179268318;-0.9040846101028096049;-0.79657701961866522744;-0.49081132979458541588;-0.29377136828940147995;0.21831507326146742942;-0.06832683017433736905;-0.28028406359512714197;-0.39453406966834825287;0.86480312652979629551;0.79441695432634384932;-1.0726871343944126558;-1.3158760953060764098;1.5604651586388598172;-1.8036104220130779741;-1.8921398554755843868];
LW3_2 = [-0.45141691019542273811 -0.70976420339589862962 0.39985347160123652088 0.21278179488495654881 -0.79602949636435593739 0.80590154512048828295 -0.43913278825534940442 0.84327168058636559067 0.025064786486912266072 0.68352993676554429925;0.96481268046373536151 0.18975640608182164915 0.72129720835345501051 0.79100965540965506584 0.45800491036729484851 0.20673071571200463126 0.84226893543434577794 0.54330631241329363501 0.12261569940442859639 0.028927665426805262983;0.59933659668427907707 -0.66789384542008800594 -0.063967497687060392852 -0.67838972775846229091 -0.75141880567944308034 0.62465898631128602414 0.16920979732852850508 -0.028673529832023446351 0.87840077603801280937 -0.51784817435862739998;0.50642432974212270302 -0.24182434231701752103 -0.85660829259301884964 -0.45935836644781546934 0.9528550869320165928 -0.84332579519280470581 0.45570017437742038613 -0.10734927261915151731 0.24583001878572666166 -0.6428081502270565073;-0.56739878626578410525 0.84029879724136646857 0.76342170727334324187 -0.92293886951724357637 0.18426073819012517285 0.02492228500848474998 0.086024262784042029861 0.31243808009887719113 0.32772182205269734245 -0.9000744944060238284;0.84853944432546879462 0.39864583703587408436 0.40667318878177138863 -0.8344892843441822361 0.089871525731818321936 0.81491105046286838043 -0.73871230807595822387 -0.3990567120521626987 -0.0086289805787218617356 -0.70781830391720390594;0.38613911187150062876 -0.36036558689023739932 -0.96468377799378091098 -0.076629299302093722979 -0.40561468420024193726 -0.05875217382722700693 0.76660465810743694259 -0.22127722641600627851 -0.95492444541442422778 0.70120016672224627641;0.94192432498388289908 0.50731483162618429272 1.0169786924437369535 -0.39734996141045331175 -0.2639229586143216344 0.074224138346764140239 -0.15282337907937978971 0.35092162897767847918 -0.56083343715837530308 -0.82958496304056061899;0.1046280868122082125 -0.42011486855889818015 -0.45842616354139364976 0.64671518309943210046 0.017980909902087123531 0.70580471892260210343 -1.0049131576060179594 0.75540735096405697835 0.12734743685608931885 0.78743882420739785832;-0.54610399994048530736 0.02097060426852113274 1.105309182968566839 0.59491651591474825622 0.057972809905189597035 0.4560811404083218723 -0.60535896711425507544 -0.37209710704624815447 -1.0606161248504450967 -0.64419705622408096612;-0.92510610137166449096 0.033401722748426752874 -0.7051108540709070116 -0.64977337114325206535 -0.1082670303667203765 -0.044337652465829706372 0.98518082135669082788 0.32528865526181011125 -0.072756826630858931204 0.79949703965844598486;-0.20717234862478267621 -0.87245036320587165957 -1.1204844111368879034 -0.64351905628822381189 -0.81123605616723670764 0.14191872386153786545 0.24380676572672152491 0.11292778037460644847 -0.61180365053183061175 0.28916377150996203094;-0.38361010074397172698 -0.44985200337584480001 1.1287701993959216029 -0.67562187569770804085 -0.58509024645339413606 0.6199978869076402388 0.27904781998017819111 -0.43228695543336792539 -0.68693781022978184225 -0.46601110809866075346;0.68448406653431592694 -0.4631976558539852018 0.53251486239660961175 0.52830397874488965737 0.15314365445975172686 0.1809690565256165673 0.40027413459544036733 -0.44937849290027170879 -1.1786690037145894916 0.83565336821988722704;1.0803222002707930649 -0.2801083872958222698 -0.23770221899656049369 -0.63157277221406826762 0.32003172246220951136 -0.86576938228138355935 -0.59507616659837658801 -0.83486410597205062967 -0.14278090770346774097 0.49556371692581535626;-0.9339947301301260163 -0.67841717396760869985 -0.71917482818665345867 0.82510893436059618011 -0.64369638910895599082 -0.38977680031295547369 0.65003989302854014998 0.48378209651469911146 0.38355551956519517987 -0.8405697045123948774;-0.24234177745113716362 0.77845069979021730422 0.25286213534434881511 -0.85069765475404812705 0.70650497025275382779 0.76533017053896001958 -0.49747855809757385304 0.3029607321389330421 0.49436036663357740828 -0.63171499291242816376;0.97188298517840354673 0.65461234208163698867 -0.1956994155087600773 0.84754718390574113052 0.00079623139663788952518 0.24370583279744029159 0.37365487793088231205 0.70165755171231147802 0.81321367566411251193 0.26002738948567327704;-0.048467432526942876014 -0.43231086958361547579 0.72033163628439822457 -0.61851673424200592777 0.95048671482051472204 -0.022746041465139983651 0.75036662173181234436 0.7402131346036361359 0.52417070929584752559 -0.44325658612346358067;-0.23225347631904610934 1.5430132367198918786 0.68436550256119565994 0.37860019764757713023 -0.47280694622790409021 0.92699038779259923526 0.41371738778508609924 0.31376408416689144376 -0.49195623105459962421 -0.44236254382055451018];

% Layer 4
b4 = 0.18863276915624802021;
LW4_3 = [0.45477451730242957062 -0.095573154735652310343 0.42082571628983533873 0.51581575970574022882 0.41808078692461164705 -0.63205282647511751293 0.20901140284612776399 0.1190677459290928053 0.10462697302287229939 -0.75709806846734517549 0.27124254278014808817 -0.37010217988910715237 -0.57416014638857304497 0.51440277207346707389 -0.74955794522727314799 -1.1279950383258534607 -0.032673409459311658631 -0.95212985015427675783 1.0171968257081369646 0.50663080535587246001];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 1.25;
y1_step1.xoffset = -0.800000000000001;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
